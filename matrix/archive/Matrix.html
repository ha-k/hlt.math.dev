<HTML>
<HEAD>
<TITLE>
Matrix.html
</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="D:/hak/hlt/classes/resources/Hilite.Style.css">
</HEAD>
<BODY BGCOLOR="#CCCFF">
<CENTER>
<TABLE BGCOLOR=white WIDTH=50% BORDER=5 CELLPADDING=20>
<TR><TD ALIGN=CENTER>
<SPAN STYLE="FONT-SIZE:XX-LARGE"><TT><B>Matrix.java</B></TT></SPAN>
<P>
</TD></TR>
</TABLE>
</CENTER>
<PRE>
<SPAN STYLE="COLOR:#88AA66"><EM>/*
 * https://introcs.cs.princeton.edu/java/95linear/Matrix.java.html
 * Copyright © 2000–2017, Robert Sedgewick and Kevin Wayne. 
 * Last updated: Fri Oct 20 14:12:12 EDT 2017.
 */</EM></SPAN>

<SPAN STYLE="COLOR:#88AA66"><EM>// Matrix.java
</EM></SPAN>
<SPAN STYLE="COLOR:#88AA66"><EM>// Below is the syntax highlighted version of Matrix.java from §9.5
</EM></SPAN><SPAN STYLE="COLOR:#88AA66"><EM>// Numerical Solutions to Differential Equations.
</EM></SPAN>


</PRE>
<HR>
<CENTER>
<TABLE BGCOLOR="WHITE" WIDTH=90% BORDER=1 CELLPADDING=10>
<TR><TD><SPAN STYLE="COLOR:BLACK">

   Compilation:  javac Matrix.java
   Execution:    java Matrix
 
   A bare-bones immutable data type for M-by-N matrices.
 
 
</SPAN></TD></TR>
</TABLE>
</CENTER>
<P>
<PRE>


<SPAN STYLE="COLOR:PURPLE"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>class</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
    <SPAN STYLE="COLOR:#88AA66"><EM>// Replaced original source's "StdOut" with "System.out" to make it standalone [hak]
</EM></SPAN>
    <SPAN STYLE="COLOR:PURPLE"><STRONG>private</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">M</SPAN>;             <SPAN STYLE="COLOR:#88AA66"><EM>// number of rows
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>private</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">N</SPAN>;             <SPAN STYLE="COLOR:#88AA66"><EM>// number of columns
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>private</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> data;   <SPAN STYLE="COLOR:#88AA66"><EM>// M-by-N array
</EM></SPAN>
    <SPAN STYLE="COLOR:#88AA66"><EM>// create M-by-N matrix of 0's
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">M</SPAN>, <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> = <SPAN STYLE="COLOR:GREEN">M</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN> = <SPAN STYLE="COLOR:GREEN">N</SPAN>;
        data = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:GREEN">M</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// create matrix based on 2d array
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> data<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:GREEN">M</SPAN> = data.length;
        <SPAN STYLE="COLOR:GREEN">N</SPAN> = data<SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN>.length;
        <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>.data = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:GREEN">M</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                    <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> = data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// copy constructor
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>private</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">)</SPAN>; <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// create and return a random M-by-N matrix with values between 0 and 1
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> random<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">M</SPAN>, <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">M</SPAN>, <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:#4400DD"><STRONG>Math</STRONG></SPAN>.random<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// create and return the N-by-N identity matrix
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> identity<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">I</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">N</SPAN>, <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:GREEN">I</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:#33AA33">1</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">I</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// swap rows i and j
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>private</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> swap<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i, <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> temp = data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN>;
        data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> = data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN>;
        data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> = temp;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// create and return the transpose of the invoking matrix
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> transpose<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">N</SPAN>, <SPAN STYLE="COLOR:GREEN">M</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// return C = A + B
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> plus<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">B</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> != <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> || <SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN> != <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>throw</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>RuntimeException</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"Illegal matrix dimensions."</EM></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">M</SPAN>, <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:GREEN">C</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> + <SPAN STYLE="COLOR:GREEN">B</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>


    <SPAN STYLE="COLOR:#88AA66"><EM>// return C = A - B
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> minus<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">B</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> != <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> || <SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN> != <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>throw</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>RuntimeException</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"Illegal matrix dimensions."</EM></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">M</SPAN>, <SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:GREEN">C</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> - <SPAN STYLE="COLOR:GREEN">B</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// does A = B exactly?
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>boolean</STRONG></SPAN> eq<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">B</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> != <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN> || <SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN> != <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>throw</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>RuntimeException</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"Illegal matrix dimensions."</EM></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> != <SPAN STYLE="COLOR:GREEN">B</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">false</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">true</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// return C = A * B
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> times<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">B</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN> != <SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>throw</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>RuntimeException</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"Illegal matrix dimensions."</EM></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN>, <SPAN STYLE="COLOR:GREEN">B</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">C</SPAN>.<SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">C</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> k = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; k &lt; <SPAN STYLE="COLOR:GREEN">A</SPAN>.<SPAN STYLE="COLOR:GREEN">N</SPAN>; k++<SPAN STYLE="COLOR:#444444">)</SPAN>
                    <SPAN STYLE="COLOR:GREEN">C</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN> += <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>k<SPAN STYLE="COLOR:#444444">]</SPAN> * <SPAN STYLE="COLOR:GREEN">B</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>k<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN>;
    <SPAN STYLE="COLOR:#444444">}</SPAN>


    <SPAN STYLE="COLOR:#88AA66"><EM>// return x = A^-1 b, assuming A is square and has full rank
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> solve<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> rhs<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">M</SPAN> != <SPAN STYLE="COLOR:GREEN">N</SPAN> || rhs.<SPAN STYLE="COLOR:GREEN">M</SPAN> != <SPAN STYLE="COLOR:GREEN">N</SPAN> || rhs.<SPAN STYLE="COLOR:GREEN">N</SPAN> != <SPAN STYLE="COLOR:#33AA33">1</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>throw</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>RuntimeException</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"Illegal matrix dimensions."</EM></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#88AA66"><EM>// create copies of the data
</EM></SPAN>        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BROWN"><STRONG>this</STRONG></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> b = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN>rhs<SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#88AA66"><EM>// Gaussian elimination with partial pivoting
</EM></SPAN>        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>

            <SPAN STYLE="COLOR:#88AA66"><EM>// find pivot row and swap
</EM></SPAN>            <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> max = i;
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = i + <SPAN STYLE="COLOR:#33AA33">1</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>Math</STRONG></SPAN>.abs<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> &gt; <SPAN STYLE="COLOR:#4400DD"><STRONG>Math</STRONG></SPAN>.abs<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>max<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>
                    max = j;
            <SPAN STYLE="COLOR:GREEN">A</SPAN>.swap<SPAN STYLE="COLOR:#444444">(</SPAN>i, max<SPAN STYLE="COLOR:#444444">)</SPAN>;
            b.swap<SPAN STYLE="COLOR:#444444">(</SPAN>i, max<SPAN STYLE="COLOR:#444444">)</SPAN>;

            <SPAN STYLE="COLOR:#88AA66"><EM>// singular
</EM></SPAN>            <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> == <SPAN STYLE="COLOR:#33AA33">0</SPAN>.<SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>throw</STRONG></SPAN> <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>RuntimeException</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"Matrix is singular."</EM></SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

            <SPAN STYLE="COLOR:#88AA66"><EM>// pivot within b
</EM></SPAN>            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = i + <SPAN STYLE="COLOR:#33AA33">1</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN>
                b.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> -= b.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> * <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> / <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN>;

            <SPAN STYLE="COLOR:#88AA66"><EM>// pivot within A
</EM></SPAN>            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = i + <SPAN STYLE="COLOR:#33AA33">1</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
                <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN> m = <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> / <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN>;
                <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> k = i+<SPAN STYLE="COLOR:#33AA33">1</SPAN>; k &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; k++<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
                    <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>k<SPAN STYLE="COLOR:#444444">]</SPAN> -= <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>k<SPAN STYLE="COLOR:#444444">]</SPAN> * m;
                <SPAN STYLE="COLOR:#444444">}</SPAN>
                <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:#33AA33">0</SPAN>.<SPAN STYLE="COLOR:#33AA33">0</SPAN>;
            <SPAN STYLE="COLOR:#444444">}</SPAN>
        <SPAN STYLE="COLOR:#444444">}</SPAN>

        <SPAN STYLE="COLOR:#88AA66"><EM>// back substitution
</EM></SPAN>        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> x = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">N</SPAN>, <SPAN STYLE="COLOR:#33AA33">1</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:GREEN">N</SPAN> - <SPAN STYLE="COLOR:#33AA33">1</SPAN>; j &gt;= <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j--<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
            <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN> t = <SPAN STYLE="COLOR:#33AA33">0</SPAN>.<SPAN STYLE="COLOR:#33AA33">0</SPAN>;
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> k = j + <SPAN STYLE="COLOR:#33AA33">1</SPAN>; k &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; k++<SPAN STYLE="COLOR:#444444">)</SPAN>
                t += <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>k<SPAN STYLE="COLOR:#444444">]</SPAN> * x.data<SPAN STYLE="COLOR:#444444">[</SPAN>k<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN>;
            x.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> = <SPAN STYLE="COLOR:#444444">(</SPAN>b.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#33AA33">0</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> - t<SPAN STYLE="COLOR:#444444">)</SPAN> / <SPAN STYLE="COLOR:GREEN">A</SPAN>.data<SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN>;
        <SPAN STYLE="COLOR:#444444">}</SPAN>
        <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> x;
   
    <SPAN STYLE="COLOR:#444444">}</SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// print matrix to standard output
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> i = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; i &lt; <SPAN STYLE="COLOR:GREEN">M</SPAN>; i++<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
            <SPAN STYLE="COLOR:BROWN"><STRONG>for</STRONG></SPAN> <SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> j = <SPAN STYLE="COLOR:#33AA33">0</SPAN>; j &lt; <SPAN STYLE="COLOR:GREEN">N</SPAN>; j++<SPAN STYLE="COLOR:#444444">)</SPAN> 
                <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.printf<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#D2691E"><EM>"%9.4f "</EM></SPAN>, data<SPAN STYLE="COLOR:#444444">[</SPAN>i<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN>j<SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
            <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#444444">}</SPAN>
    <SPAN STYLE="COLOR:#444444">}</SPAN>

  <SPAN STYLE="COLOR:#88AA66"><EM>/* ******************************************************************** */</EM></SPAN>

    <SPAN STYLE="COLOR:#88AA66"><EM>// test client
</EM></SPAN>    <SPAN STYLE="COLOR:PURPLE"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:PURPLE"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> main<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#4400DD"><STRONG>String</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> args<SPAN STYLE="COLOR:#444444">)</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN>
        <SPAN STYLE="COLOR:BLUE"><STRONG>double</STRONG></SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN><SPAN STYLE="COLOR:#444444">[</SPAN><SPAN STYLE="COLOR:#444444">]</SPAN> d = <SPAN STYLE="COLOR:#444444">{</SPAN> <SPAN STYLE="COLOR:#444444">{</SPAN> <SPAN STYLE="COLOR:#33AA33">1</SPAN>, <SPAN STYLE="COLOR:#33AA33">2</SPAN>, <SPAN STYLE="COLOR:#33AA33">3</SPAN> <SPAN STYLE="COLOR:#444444">}</SPAN>, <SPAN STYLE="COLOR:#444444">{</SPAN> <SPAN STYLE="COLOR:#33AA33">4</SPAN>, <SPAN STYLE="COLOR:#33AA33">5</SPAN>, <SPAN STYLE="COLOR:#33AA33">6</SPAN> <SPAN STYLE="COLOR:#444444">}</SPAN>, <SPAN STYLE="COLOR:#444444">{</SPAN> <SPAN STYLE="COLOR:#33AA33">9</SPAN>, <SPAN STYLE="COLOR:#33AA33">1</SPAN>, <SPAN STYLE="COLOR:#33AA33">3</SPAN><SPAN STYLE="COLOR:#444444">}</SPAN> <SPAN STYLE="COLOR:#444444">}</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">D</SPAN> = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN><SPAN STYLE="COLOR:#444444">(</SPAN>d<SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:GREEN">D</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;        
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">A</SPAN> = <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN>.random<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#33AA33">5</SPAN>, <SPAN STYLE="COLOR:#33AA33">5</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:GREEN">A</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>; 
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:GREEN">A</SPAN>.swap<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#33AA33">1</SPAN>, <SPAN STYLE="COLOR:#33AA33">2</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:GREEN">A</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>; 
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">B</SPAN> = <SPAN STYLE="COLOR:GREEN">A</SPAN>.transpose<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:GREEN">B</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>; 
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> <SPAN STYLE="COLOR:GREEN">C</SPAN> = <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN>.identity<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#33AA33">5</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:GREEN">C</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>; 
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:GREEN">A</SPAN>.plus<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">B</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:GREEN">B</SPAN>.times<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#88AA66"><EM>// shouldn't be equal since AB != BA in general    
</EM></SPAN>        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN>.times<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">B</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>.eq<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">B</SPAN>.times<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:GREEN">A</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> b = <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN>.random<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#33AA33">5</SPAN>, <SPAN STYLE="COLOR:#33AA33">1</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        b.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:#4400DD"><STRONG>Matrix</STRONG></SPAN> x = <SPAN STYLE="COLOR:GREEN">A</SPAN>.solve<SPAN STYLE="COLOR:#444444">(</SPAN>b<SPAN STYLE="COLOR:#444444">)</SPAN>;
        x.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        <SPAN STYLE="COLOR:#4400DD"><STRONG>System</STRONG></SPAN>.out.println<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;

        <SPAN STYLE="COLOR:GREEN">A</SPAN>.times<SPAN STYLE="COLOR:#444444">(</SPAN>x<SPAN STYLE="COLOR:#444444">)</SPAN>.show<SPAN STYLE="COLOR:#444444">(</SPAN><SPAN STYLE="COLOR:#444444">)</SPAN>;
        
    <SPAN STYLE="COLOR:#444444">}</SPAN>
<SPAN STYLE="COLOR:#444444">}</SPAN>

</PRE>
<P>
<HR>
<P ALIGN="RIGHT"><SPAN STYLE="COLOR:#F07070"><EM>
This file was generated on Fri Nov 15 03:43:52 PST 2019 from file <SPAN STYLE="COLOR:BROWN"><KBD>Matrix.java</KBD></SPAN><BR>by the <SPAN STYLE="COLOR:BROWN"><KBD>hlt.language.tools.Hilite</KBD></SPAN> Java tool written by <A HREF="http://hassan-ait-kaci.net">Hassan A&iuml;t-Kaci</A></EM></SPAN>
<P>
<HR>
</BODY>
</HTML>